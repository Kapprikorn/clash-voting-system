<div class="container mt-4">
  <h2>League of Legends Champion Voting</h2>

  @if (currentSessionId) {
    <div class="alert alert-info">
      <strong>Current Session:</strong> {{ currentSessionId }}
    </div>
  }

  <app-login (adminStatusChange)="onAdminStatusChange($event)" />

  <!-- Login Required Message -->
  @if (!currentUser) {
    <div class="alert alert-warning mt-4">
      <i class="fas fa-sign-in-alt"></i> Please sign in to vote and participate in the poll!
    </div>
  }

  <!-- User Vote Summary -->
  @if (currentUser && getUserVoteCount() > 0) {
    <div class="alert alert-success mt-4">
      <i class="fas fa-check-circle"></i> You have voted for <strong>{{ getUserVoteCount() }}</strong> champion(s).
                                          You can vote once per champion!
    </div>
  }

  <!-- Admin Controls -->
  <app-admin-section [isAdmin]="isAdmin"/>

  <!-- Add Champion -->
  <app-add-champion-section [user]="currentUser"
                            [availableChampions]="availableChampions"
                            [sessionId]="currentSessionId"
                            [isAdmin]="isAdmin"
                            [isLoading]="isLoading"
  />

  <!-- Voting Section -->
  <app-voting-section [champions]="champions"
                      [user]="currentUser"
                      [sessionId]="currentSessionId"
  />
</div>
