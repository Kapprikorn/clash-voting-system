<div class="col-12 mb-3">
  <div
    class="h-100 border position-relative"
    [class.border-success]="hasUserVotedForChampion()"
  >
    <!-- Clickable Button Bar -->
    <button
      class="btn w-100 h-100 d-flex align-items-center p-1"
      [disabled]="isVoting || (!currentUser && !hasUserVotedForChampion())"
      (click)="hasUserVotedForChampion() ? unvote(champion.id, champion.name) : vote(champion.id, champion.name)"
    >
      <!-- Left side: Champion Image and Info -->
      <div class="d-flex align-items-center flex-grow-1">
        @if (championImageUrl) {
          <img
            [ngSrc]="championImageUrl"
            [alt]="champion.name"
            width="50"
            height="50"
            style="object-fit: cover; border-radius: 8px;"
            class="me-3"
          >
        }
        <span
          class="flex-grow-1 d-flex justify-content-between px-2 py-1 rounded"
          [style.background]="getVoteFillGradient(champion.votes.length)">
          <h4 class="mb-0">{{ champion.name }}</h4>
          {{ champion.votes.length }} votes
        </span>
      </div>

      <!-- Right side: Status Icon -->
      <div class="d-flex align-items-center">
        @if (isVoting) {
          <span class="spinner-border spinner-border-sm" role="status"></span>
        } @else if (hasUserVotedForChampion()) {
          <i class="fas fa-thumbs-up text-success fs-4"></i>
        } @else if (!currentUser) {
          <i class="fas fa-lock text-muted fs-4"></i>
        } @else {
          <i class="fas fa-plus text-primary fs-4"></i>
        }
      </div>
    </button>
  </div>
</div>
